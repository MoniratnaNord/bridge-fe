import { JsonRpcSigner, parseEther } from "ethers";

interface BridgeParams {
	signer: JsonRpcSigner;
	sourceChainId: number;
	destinationChainId: number;
	amount: string;
	recipientAddress: string;
}

export const BRIDGE_CONTRACT_ADDRESS =
	"0xb37a801c45066880659D5Cae8c21c24fd6793C16";

export const BRIDGE_ABI = [
	{
		inputs: [],
		stateMutability: "nonpayable",
		type: "constructor",
	},
	{
		inputs: [],
		name: "FailedCall",
		type: "error",
	},
	{
		inputs: [],
		name: "GasRequired",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "uint256",
				name: "balance",
				type: "uint256",
			},
			{
				internalType: "uint256",
				name: "needed",
				type: "uint256",
			},
		],
		name: "InsufficientBalance",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidAddress",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidArrayLength",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidDelegate",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidDestinationChain",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidEndpointCall",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidFillType",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidInitialization",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidNativeAmount",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "uint16",
				name: "optionType",
				type: "uint16",
			},
		],
		name: "InvalidOptionType",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidPostHookProvided",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidProvider",
		type: "error",
	},
	{
		inputs: [],
		name: "InvalidSourceChain",
		type: "error",
	},
	{
		inputs: [],
		name: "LengthMismatch",
		type: "error",
	},
	{
		inputs: [],
		name: "LzTokenUnavailable",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "uint32",
				name: "eid",
				type: "uint32",
			},
		],
		name: "NoPeer",
		type: "error",
	},
	{
		inputs: [],
		name: "NotApprovedByGateway",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "uint256",
				name: "msgValue",
				type: "uint256",
			},
		],
		name: "NotEnoughNative",
		type: "error",
	},
	{
		inputs: [],
		name: "NotInitializing",
		type: "error",
	},
	{
		inputs: [],
		name: "OnlyAdmin",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "addr",
				type: "address",
			},
		],
		name: "OnlyEndpoint",
		type: "error",
	},
	{
		inputs: [],
		name: "OnlyFeeCollector",
		type: "error",
	},
	{
		inputs: [],
		name: "OnlyFillerCanSettle",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "uint32",
				name: "eid",
				type: "uint32",
			},
			{
				internalType: "bytes32",
				name: "sender",
				type: "bytes32",
			},
		],
		name: "OnlyPeer",
		type: "error",
	},
	{
		inputs: [],
		name: "OnlyRelayer",
		type: "error",
	},
	{
		inputs: [],
		name: "OnlyTrustedAddress",
		type: "error",
	},
	{
		inputs: [],
		name: "OrderAlreadyExists",
		type: "error",
	},
	{
		inputs: [],
		name: "OrderAlreadySettled",
		type: "error",
	},
	{
		inputs: [],
		name: "OrderExpired",
		type: "error",
	},
	{
		inputs: [],
		name: "OrderNotExpired",
		type: "error",
	},
	{
		inputs: [],
		name: "OrderNotSettled",
		type: "error",
	},
	{
		inputs: [],
		name: "OrderStateNotCreated",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "owner",
				type: "address",
			},
		],
		name: "OwnableInvalidOwner",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "account",
				type: "address",
			},
		],
		name: "OwnableUnauthorizedAccount",
		type: "error",
	},
	{
		inputs: [],
		name: "ReentrancyGuardReentrantCall",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "uint8",
				name: "bits",
				type: "uint8",
			},
			{
				internalType: "uint256",
				name: "value",
				type: "uint256",
			},
		],
		name: "SafeCastOverflowedUintDowncast",
		type: "error",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "token",
				type: "address",
			},
		],
		name: "SafeERC20FailedOperation",
		type: "error",
	},
	{
		inputs: [],
		name: "UnauthorizedOriginAddress",
		type: "error",
	},
	{
		inputs: [],
		name: "UnauthorizedOriginEndpoint",
		type: "error",
	},
	{
		inputs: [],
		name: "UnexpectedNativeToken",
		type: "error",
	},
	{
		inputs: [],
		name: "UntrustedChain",
		type: "error",
	},
	{
		inputs: [],
		name: "ZeroAddress",
		type: "error",
	},
	{
		inputs: [],
		name: "ZeroStringLength",
		type: "error",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "address",
				name: "feeCollector",
				type: "address",
			},
			{
				indexed: true,
				internalType: "address",
				name: "token",
				type: "address",
			},
			{
				indexed: true,
				internalType: "uint256",
				name: "amount",
				type: "uint256",
			},
		],
		name: "FeesCollected",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: false,
				internalType: "uint64",
				name: "version",
				type: "uint64",
			},
		],
		name: "Initialized",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
			{
				components: [
					{
						internalType: "address",
						name: "fromAddress",
						type: "address",
					},
					{
						internalType: "string",
						name: "toAddress",
						type: "string",
					},
					{
						internalType: "address",
						name: "filler",
						type: "address",
					},
					{
						internalType: "address",
						name: "fromToken",
						type: "address",
					},
					{
						internalType: "address",
						name: "toToken",
						type: "address",
					},
					{
						internalType: "uint256",
						name: "expiry",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fillAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "feeRate",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromChain",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "toChain",
						type: "uint256",
					},
					{
						internalType: "bytes32",
						name: "postHookHash",
						type: "bytes32",
					},
				],
				indexed: false,
				internalType: "struct ISpoke.Order",
				name: "order",
				type: "tuple",
			},
		],
		name: "OrderCreated",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
			{
				components: [
					{
						internalType: "address",
						name: "fromAddress",
						type: "address",
					},
					{
						internalType: "string",
						name: "toAddress",
						type: "string",
					},
					{
						internalType: "address",
						name: "filler",
						type: "address",
					},
					{
						internalType: "address",
						name: "fromToken",
						type: "address",
					},
					{
						internalType: "address",
						name: "toToken",
						type: "address",
					},
					{
						internalType: "uint256",
						name: "expiry",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fillAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "feeRate",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromChain",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "toChain",
						type: "uint256",
					},
					{
						internalType: "bytes32",
						name: "postHookHash",
						type: "bytes32",
					},
				],
				indexed: false,
				internalType: "struct ISpoke.Order",
				name: "order",
				type: "tuple",
			},
		],
		name: "OrderFilled",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
		],
		name: "OrderRefunded",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
		],
		name: "OrderSettled",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "address",
				name: "previousOwner",
				type: "address",
			},
			{
				indexed: true,
				internalType: "address",
				name: "newOwner",
				type: "address",
			},
		],
		name: "OwnershipTransferred",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: false,
				internalType: "uint32",
				name: "eid",
				type: "uint32",
			},
			{
				indexed: false,
				internalType: "bytes32",
				name: "peer",
				type: "bytes32",
			},
		],
		name: "PeerSet",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
		],
		name: "SettlementForwarded",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: false,
				internalType: "address",
				name: "feeCollector",
				type: "address",
			},
			{
				indexed: false,
				internalType: "address",
				name: "admin",
				type: "address",
			},
			{
				indexed: false,
				internalType: "address",
				name: "relayer",
				type: "address",
			},
		],
		name: "SpokeInitialized",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: true,
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
		],
		name: "TokensReleased",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: false,
				internalType: "string",
				name: "chain",
				type: "string",
			},
		],
		name: "TrustedAddressRemoved",
		type: "event",
	},
	{
		anonymous: false,
		inputs: [
			{
				indexed: false,
				internalType: "string",
				name: "chain",
				type: "string",
			},
			{
				indexed: false,
				internalType: "string",
				name: "address_",
				type: "string",
			},
		],
		name: "TrustedAddressSet",
		type: "event",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "_addr",
				type: "address",
			},
		],
		name: "addressToBytes32",
		outputs: [
			{
				internalType: "bytes32",
				name: "",
				type: "bytes32",
			},
		],
		stateMutability: "pure",
		type: "function",
	},
	{
		inputs: [],
		name: "admin",
		outputs: [
			{
				internalType: "address",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				components: [
					{
						internalType: "uint32",
						name: "srcEid",
						type: "uint32",
					},
					{
						internalType: "bytes32",
						name: "sender",
						type: "bytes32",
					},
					{
						internalType: "uint64",
						name: "nonce",
						type: "uint64",
					},
				],
				internalType: "struct Origin",
				name: "origin",
				type: "tuple",
			},
		],
		name: "allowInitializePath",
		outputs: [
			{
				internalType: "bool",
				name: "",
				type: "bool",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "chainName",
		outputs: [
			{
				internalType: "string",
				name: "chainName_",
				type: "string",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address[]",
				name: "tokens",
				type: "address[]",
			},
		],
		name: "collectFees",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				components: [
					{
						internalType: "address",
						name: "fromAddress",
						type: "address",
					},
					{
						internalType: "string",
						name: "toAddress",
						type: "string",
					},
					{
						internalType: "address",
						name: "filler",
						type: "address",
					},
					{
						internalType: "address",
						name: "fromToken",
						type: "address",
					},
					{
						internalType: "address",
						name: "toToken",
						type: "address",
					},
					{
						internalType: "uint256",
						name: "expiry",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fillAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "feeRate",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromChain",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "toChain",
						type: "uint256",
					},
					{
						internalType: "bytes32",
						name: "postHookHash",
						type: "bytes32",
					},
				],
				internalType: "struct ISpoke.Order",
				name: "order",
				type: "tuple",
			},
		],
		name: "createOrder",
		outputs: [],
		stateMutability: "payable",
		type: "function",
	},
	{
		inputs: [],
		name: "endpoint",
		outputs: [
			{
				internalType: "contract ILayerZeroEndpointV2",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "bytes32",
				name: "commandId",
				type: "bytes32",
			},
			{
				internalType: "string",
				name: "sourceChain",
				type: "string",
			},
			{
				internalType: "string",
				name: "sourceAddress",
				type: "string",
			},
			{
				internalType: "bytes",
				name: "payload",
				type: "bytes",
			},
		],
		name: "execute",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "bytes32",
				name: "commandId",
				type: "bytes32",
			},
			{
				internalType: "string",
				name: "sourceChain",
				type: "string",
			},
			{
				internalType: "string",
				name: "sourceAddress",
				type: "string",
			},
			{
				internalType: "bytes",
				name: "payload",
				type: "bytes",
			},
			{
				internalType: "string",
				name: "tokenSymbol",
				type: "string",
			},
			{
				internalType: "uint256",
				name: "amount",
				type: "uint256",
			},
		],
		name: "executeWithToken",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [],
		name: "feeCollector",
		outputs: [
			{
				internalType: "address",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "bytes32[]",
				name: "orderHashes",
				type: "bytes32[]",
			},
			{
				internalType: "uint256",
				name: "lzFee",
				type: "uint256",
			},
			{
				internalType: "uint128",
				name: "gasLimit",
				type: "uint128",
			},
			{
				internalType: "enum ICoral.Provider",
				name: "provider",
				type: "uint8",
			},
		],
		name: "forwardSettlements",
		outputs: [],
		stateMutability: "payable",
		type: "function",
	},
	{
		inputs: [],
		name: "gasService",
		outputs: [
			{
				internalType: "contract IAxelarGasService",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "gateway",
		outputs: [
			{
				internalType: "contract IAxelarGateway",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "hubAddress",
		outputs: [
			{
				internalType: "string",
				name: "",
				type: "string",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "hubAddressBytes32",
		outputs: [
			{
				internalType: "bytes32",
				name: "",
				type: "bytes32",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "hubChainName",
		outputs: [
			{
				internalType: "string",
				name: "",
				type: "string",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "hubEndpoint",
		outputs: [
			{
				internalType: "uint32",
				name: "",
				type: "uint32",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "_feeCollector",
				type: "address",
			},
			{
				internalType: "address",
				name: "_owner",
				type: "address",
			},
			{
				internalType: "address",
				name: "_admin",
				type: "address",
			},
			{
				internalType: "address",
				name: "_relayer",
				type: "address",
			},
		],
		name: "initialize",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				components: [
					{
						internalType: "uint32",
						name: "srcEid",
						type: "uint32",
					},
					{
						internalType: "bytes32",
						name: "sender",
						type: "bytes32",
					},
					{
						internalType: "uint64",
						name: "nonce",
						type: "uint64",
					},
				],
				internalType: "struct Origin",
				name: "",
				type: "tuple",
			},
			{
				internalType: "bytes",
				name: "",
				type: "bytes",
			},
			{
				internalType: "address",
				name: "_sender",
				type: "address",
			},
		],
		name: "isComposeMsgSender",
		outputs: [
			{
				internalType: "bool",
				name: "",
				type: "bool",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "string",
				name: "chain",
				type: "string",
			},
			{
				internalType: "string",
				name: "address_",
				type: "string",
			},
		],
		name: "isTrustedAddress",
		outputs: [
			{
				internalType: "bool",
				name: "",
				type: "bool",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				components: [
					{
						internalType: "uint32",
						name: "srcEid",
						type: "uint32",
					},
					{
						internalType: "bytes32",
						name: "sender",
						type: "bytes32",
					},
					{
						internalType: "uint64",
						name: "nonce",
						type: "uint64",
					},
				],
				internalType: "struct Origin",
				name: "_origin",
				type: "tuple",
			},
			{
				internalType: "bytes32",
				name: "_guid",
				type: "bytes32",
			},
			{
				internalType: "bytes",
				name: "_message",
				type: "bytes",
			},
			{
				internalType: "address",
				name: "_executor",
				type: "address",
			},
			{
				internalType: "bytes",
				name: "_extraData",
				type: "bytes",
			},
		],
		name: "lzReceive",
		outputs: [],
		stateMutability: "payable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "bytes32",
				name: "orderHash",
				type: "bytes32",
			},
		],
		name: "markOrderSettled",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "uint32",
				name: "",
				type: "uint32",
			},
			{
				internalType: "bytes32",
				name: "",
				type: "bytes32",
			},
		],
		name: "nextNonce",
		outputs: [
			{
				internalType: "uint64",
				name: "nonce",
				type: "uint64",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "oAppVersion",
		outputs: [
			{
				internalType: "uint64",
				name: "senderVersion",
				type: "uint64",
			},
			{
				internalType: "uint64",
				name: "receiverVersion",
				type: "uint64",
			},
		],
		stateMutability: "pure",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "bytes32",
				name: "",
				type: "bytes32",
			},
		],
		name: "orderHashToStatus",
		outputs: [
			{
				internalType: "enum ISpoke.OrderStatus",
				name: "",
				type: "uint8",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "owner",
		outputs: [
			{
				internalType: "address",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "uint32",
				name: "eid",
				type: "uint32",
			},
		],
		name: "peers",
		outputs: [
			{
				internalType: "bytes32",
				name: "peer",
				type: "bytes32",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "uint32",
				name: "_dstEid",
				type: "uint32",
			},
			{
				internalType: "bytes32[]",
				name: "orderHashes",
				type: "bytes32[]",
			},
			{
				internalType: "uint128",
				name: "gasLimit",
				type: "uint128",
			},
			{
				internalType: "bool",
				name: "_payInLzToken",
				type: "bool",
			},
		],
		name: "quote",
		outputs: [
			{
				internalType: "uint256",
				name: "nativeFee",
				type: "uint256",
			},
			{
				internalType: "uint256",
				name: "lzTokenFee",
				type: "uint256",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				components: [
					{
						internalType: "address",
						name: "fromAddress",
						type: "address",
					},
					{
						internalType: "string",
						name: "toAddress",
						type: "string",
					},
					{
						internalType: "address",
						name: "filler",
						type: "address",
					},
					{
						internalType: "address",
						name: "fromToken",
						type: "address",
					},
					{
						internalType: "address",
						name: "toToken",
						type: "address",
					},
					{
						internalType: "uint256",
						name: "expiry",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fillAmount",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "feeRate",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "fromChain",
						type: "uint256",
					},
					{
						internalType: "uint256",
						name: "toChain",
						type: "uint256",
					},
					{
						internalType: "bytes32",
						name: "postHookHash",
						type: "bytes32",
					},
				],
				internalType: "struct ISpoke.Order",
				name: "order",
				type: "tuple",
			},
		],
		name: "refundOrder",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [],
		name: "relayer",
		outputs: [
			{
				internalType: "address",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "renounceOwnership",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "_destination",
				type: "address",
			},
			{
				internalType: "address",
				name: "_token",
				type: "address",
			},
			{
				internalType: "uint256",
				name: "_amount",
				type: "uint256",
			},
		],
		name: "salvage",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "_delegate",
				type: "address",
			},
		],
		name: "setDelegate",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "uint32",
				name: "_eid",
				type: "uint32",
			},
			{
				internalType: "bytes32",
				name: "_peer",
				type: "bytes32",
			},
		],
		name: "setPeer",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "bytes32",
				name: "",
				type: "bytes32",
			},
		],
		name: "settlementToStatus",
		outputs: [
			{
				internalType: "enum ISpoke.SettlementStatus",
				name: "",
				type: "uint8",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [],
		name: "squidMulticall",
		outputs: [
			{
				internalType: "contract ISquidMulticall",
				name: "",
				type: "address",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "",
				type: "address",
			},
		],
		name: "tokenToCollectedFees",
		outputs: [
			{
				internalType: "uint256",
				name: "",
				type: "uint256",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "newOwner",
				type: "address",
			},
		],
		name: "transferOwnership",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "string",
				name: "chain",
				type: "string",
			},
		],
		name: "trustedAddress",
		outputs: [
			{
				internalType: "string",
				name: "trustedAddress_",
				type: "string",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "string",
				name: "chain",
				type: "string",
			},
		],
		name: "trustedAddressHash",
		outputs: [
			{
				internalType: "bytes32",
				name: "trustedAddressHash_",
				type: "bytes32",
			},
		],
		stateMutability: "view",
		type: "function",
	},
	{
		inputs: [
			{
				internalType: "address",
				name: "_admin",
				type: "address",
			},
			{
				internalType: "address",
				name: "_relayer",
				type: "address",
			},
		],
		name: "updateConfig",
		outputs: [],
		stateMutability: "nonpayable",
		type: "function",
	},
];
export const ERC20_ABI = [
	{
		name: "balanceOf",
		type: "function",
		stateMutability: "view",
		inputs: [{ name: "owner", type: "address" }],
		outputs: [{ name: "balance", type: "uint256" }],
	},
	{
		name: "decimals",
		type: "function",
		stateMutability: "view",
		inputs: [],
		outputs: [{ name: "", type: "uint8" }],
	},
	{
		name: "allowance",
		type: "function",
		stateMutability: "view",
		inputs: [
			{ name: "owner", type: "address" },
			{ name: "spender", type: "address" },
		],
		outputs: [{ type: "uint256" }],
	},
	{
		name: "approve",
		type: "function",
		stateMutability: "nonpayable",
		inputs: [
			{ name: "spender", type: "address" },
			{ name: "amount", type: "uint256" },
		],
		outputs: [{ type: "bool" }],
	},
];
export async function executeBridge({
	signer,
	sourceChainId,
	destinationChainId,
	amount,
	recipientAddress,
}: BridgeParams): Promise<void> {
	try {
		if (!recipientAddress.match(/^0x[a-fA-F0-9]{40}$/)) {
			throw new Error("Invalid recipient address");
		}

		const amountWei = parseEther(amount);

		console.log("Bridge Parameters:", {
			sourceChainId,
			destinationChainId,
			amount,
			recipientAddress,
		});

		// const tx = await signer.sendTransaction({
		// 	to: recipientAddress,
		// 	value: amountWei,
		// 	data: "0x",
		// });

		console.log("Transaction sent:", tx.hash);

		await tx.wait();

		console.log("Bridge transaction confirmed:", tx.hash);
	} catch (error) {
		console.error("Bridge execution error:", error);
		throw error;
	}
}
